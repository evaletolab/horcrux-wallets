{"version":3,"sources":["webpack:///./src/components/QrScan.vue?082c","webpack:///./src/views/Recover.vue?b876","webpack:///./src/components/QrScan.vue?08c9","webpack:///./node_modules/qr-scanner/qr-scanner.min.js","webpack:///./src/components/QrScan.vue?2f4f","webpack:///./src/components/QrScan.vue","webpack:///./src/components/RestoreVault.vue?5966","webpack:///./src/components/RestoreVault.vue?8384","webpack:///./src/components/RestoreVault.vue","webpack:///./src/views/Recover.vue?6fe4","webpack:///./src/views/Recover.vue","webpack:///./src/components/RestoreVault.vue?15d0","webpack:///./src/views/Recover.vue?6689"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","_ctx","_cache","$props","$setup","$data","$options","_component_qr_scan","_component_drawer","_component_restore_vault","index","key","$event","horcruxs","placeholder","autocomplete","autocorrect","autocapitalize","spellcheck","onClick","onOpenDrawer","hide","mnemonic","error","length","open","drawer","print","displayClose","onClose","onCloseDrawer","default","onDecoded","onQrScanDecoded","_","vault","onValue","onHorcrux","ref","toggle","args","started","e","a","b","c","d","f","this","_legacyCanvasSize","DEFAULT_CANVAS_SIZE","_preferredCamera","_maxScansPerSecond","_lastScanTimestamp","_destroyed","_flashOn","_paused","_active","$video","$canvas","document","createElement","_onDecode","console","warn","_legacyOnDecode","_onDecodeError","onDecodeError","_calculateScanRegion","calculateScanRegion","preferredCamera","maxScansPerSecond","_onPlay","bind","_onLoadedMetaData","_onVisibilityChange","_updateOverlay","disablePictureInPicture","playsInline","muted","h","hidden","body","contains","appendChild","parentElement","highlightScanRegion","highlightCodeOutline","overlay","$overlay","style","position","display","pointerEvents","classList","add","innerHTML","firstElementChild","animate","transform","duration","iterations","Infinity","direction","easing","m","insertBefore","nextSibling","insertAdjacentHTML","$codeOutlineHighlight","lastElementChild","_scanRegion","requestAnimationFrame","window","getComputedStyle","setProperty","visibility","opacity","width","height","removeChild","addEventListener","_qrEnginePromise","createQrEngine","listCameras","navigator","mediaDevices","async","enumerateDevices","filter","kind","every","label","getUserMedia","audio","video","map","id","deviceId","_stopVideoStream","srcObject","MediaStream","_getCameraStream","stream","getVideoTracks","getSettings","turnFlashOff","turnFlashOn","hasFlash","applyConstraints","advanced","torch","_restartVideoStream","removeEventListener","stop","_postWorkerMessage","Error","location","protocol","play","facingMode","_setVideoMirror","catch","pause","Promise","setTimeout","scanRegion","qrEngine","canvas","disallowCanvasResizing","alsoTryWithoutScanRegion","p","k","q","all","_loadImage","_drawToCanvas","Worker","g","_postWorkerMessageSync","l","v","w","u","r","y","t","data","clearTimeout","cornerPoints","_convertPoints","NO_QR_CODE_FOUND","message","x","getImageData","buffer","race","detect","rawValue","test","_disableBarcodeDetector","scanImage","red","green","blue","useIntegerApproximation","BarcodeDetector","getSupportedFormats","includes","formats","then","createWorker","_scanFrame","start","Math","round","min","videoWidth","videoHeight","downScaledWidth","downScaledHeight","offsetWidth","offsetHeight","offsetLeft","offsetTop","objectFit","objectPosition","split","parseFloat","endsWith","top","left","paused","ended","requestVideoFrameCallback","readyState","Date","now","_codeOutlineHighlightRemovalTimeout","setAttribute","join","log","Object","assign","exact","_getFacingMode","getTracks","removeTrack","getContext","alpha","imageSmoothingEnabled","drawImage","Image","_awaitImageLoad","HTMLVideoElement","HTMLCanvasElement","SVGImageElement","OffscreenCanvas","ImageBitmap","File","Blob","URL","src","createObjectURL","toString","revokeObjectURL","complete","naturalWidth","ErrorEvent","_workerMessageId","postMessage","type","mounted","options","qrScanner","$refs","result","$emit","value","onDestroy","QrScan","props","components","__exports__","for","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_component_password","target","href","address","username","password","onScore","onRestore","disabled","score","receipt","computing","seed","hideUsermail","share","currentDate","difficulty","from","abiRedeem","account","balance","nonce","toLocaleDateString","indexOfMail","indexOf","i","initMetamask","$window","ethereum","provider","providers","Web3Provider","send","signer","getSigner","getAddress","getBalance","preventDefault","privateKey","utils","keccak256","defaultAbiCoder","encode","horcrux","Contract","redeem","toHexString","mixed","arrayify","bytes","substring","hexlify","replace","RestoreVault","Password","currentIndex","err","entropy","createMnemonic","destination","Recover","Drawer"],"mappings":"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","file":"js/recover.e36da129.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./QrScan.vue?vue&type=style&index=0&id=6e3d29d2&lang=scss&scoped=true\"","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b55a9aaa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"recover container\" }\nconst _hoisted_2 = { class: \"sharing\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-sm-11\" }, [\n  /*#__PURE__*/_createElementVNode(\"h2\", null, \"Restore your Digital Identity \"),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Your Horcruxes are parts of your digital identity. To restore it you need atleast two of them. \")\n], -1))\nconst _hoisted_4 = { class: \"form-group\" }\nconst _hoisted_5 = [\"onUpdate:modelValue\", \"placeholder\"]\nconst _hoisted_6 = { class: \"action\" }\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" restore from \")\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = [\"onClick\"]\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<form class=\\\"hide media-display\\\" data-v-b55a9aaa><fieldset data-v-b55a9aaa><label for=\\\"\\\" data-v-b55a9aaa>Restore BIP39 Mnemonic </label><div class=\\\"languages\\\" data-v-b55a9aaa><a href=\\\"#english\\\" data-v-b55a9aaa>English</a><a href=\\\"#japanese\\\" title=\\\"Japanese\\\" data-v-b55a9aaa>日本語</a><a href=\\\"#spanish\\\" title=\\\"Spanish\\\" data-v-b55a9aaa>Español</a><a href=\\\"#chinese_simplified\\\" title=\\\"Chinese (Simplified)\\\" data-v-b55a9aaa>中文(简体)</a><a href=\\\"#chinese_traditional\\\" title=\\\"Chinese (Traditional)\\\" data-v-b55a9aaa>中文(繁體)</a><a href=\\\"#french\\\" title=\\\"French\\\" data-v-b55a9aaa>Français</a><a href=\\\"#italian\\\" title=\\\"Italian\\\" data-v-b55a9aaa>Italiano</a><a href=\\\"#korean\\\" title=\\\"Korean\\\" data-v-b55a9aaa>한국어</a><a href=\\\"#czech\\\" title=\\\"Czech\\\" data-v-b55a9aaa>Čeština</a><a href=\\\"#portuguese\\\" title=\\\"Portuguese\\\" data-v-b55a9aaa>Português</a></div></fieldset></form>\", 1)\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"scan qrcode\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_qr_scan = _resolveComponent(\"qr-scan\")!\n  const _component_drawer = _resolveComponent(\"drawer\")!\n  const _component_restore_vault = _resolveComponent(\"restore-vault\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList([0,1], (index) => {\n        return _createElementVNode(\"div\", {\n          class: \"horcrux media-display\",\n          key: index\n        }, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _withDirectives(_createElementVNode(\"textarea\", {\n              \"onUpdate:modelValue\": ($event: any) => ((_ctx.horcruxs[index]) = $event),\n              class: \"phrase private-data\",\n              placeholder: 'Horcrux '+ index,\n              autocomplete: \"off\",\n              autocorrect: \"off\",\n              autocapitalize: \"off\",\n              spellcheck: \"false\"\n            }, null, 8, _hoisted_5), [\n              [_vModelText, _ctx.horcruxs[index]]\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _hoisted_7,\n            _createElementVNode(\"a\", {\n              class: \"store\",\n              onClick: ($event: any) => (_ctx.onOpenDrawer(index,'print'))\n            }, \"print\", 8, _hoisted_8),\n            _createElementVNode(\"a\", {\n              class: \"store\",\n              onClick: ($event: any) => (_ctx.onOpenDrawer(index,'vault'))\n            }, \"vault\", 8, _hoisted_9)\n          ])\n        ])\n      }), 64)),\n      _hoisted_10,\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"secret\", {hide:!_ctx.mnemonic}])\n      }, _toDisplayString(_ctx.mnemonic), 3),\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"error\", {hide:!_ctx.error.length}])\n      }, _toDisplayString(_ctx.error), 3)\n    ]),\n    _createVNode(_component_drawer, {\n      open: _ctx.drawer.print,\n      displayClose: true,\n      onClose: _cache[0] || (_cache[0] = ($event: any) => (_ctx.onCloseDrawer('print')))\n    }, {\n      default: _withCtx(() => [\n        _hoisted_11,\n        _createVNode(_component_qr_scan, { onDecoded: _ctx.onQrScanDecoded }, null, 8, [\"onDecoded\"])\n      ]),\n      _: 1\n    }, 8, [\"open\"]),\n    _createVNode(_component_drawer, {\n      open: _ctx.drawer.vault,\n      displayClose: true,\n      onClose: _cache[1] || (_cache[1] = ($event: any) => (_ctx.onCloseDrawer('vault')))\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_restore_vault, { onValue: _ctx.onHorcrux }, null, 8, [\"onValue\"])\n      ]),\n      _: 1\n    }, 8, [\"open\"])\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6e3d29d2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"qrscan\" }\nconst _hoisted_2 = { ref: \"video\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"video\", _hoisted_2, null, 512),\n    _createElementVNode(\"button\", {\n      class: \"hide\",\n      onClick: _cache[0] || (_cache[0] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.toggle && _ctx.toggle(...args)), [\"stop\"]))\n    }, _toDisplayString(_ctx.started ? 'stop': 'start'), 1)\n  ]))\n}","class e{constructor(a,b,c,d,f){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE;this._preferredCamera=\"environment\";this._maxScansPerSecond=25;this._lastScanTimestamp=-1;this._destroyed=this._flashOn=this._paused=this._active=!1;this.$video=a;this.$canvas=document.createElement(\"canvas\");c&&\"object\"===typeof c?this._onDecode=b:(c||d||f?console.warn(\"You're using a deprecated version of the QrScanner constructor which will be removed in the future\"):console.warn(\"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\"),\nthis._legacyOnDecode=b);b=\"object\"===typeof c?c:{};this._onDecodeError=b.onDecodeError||(\"function\"===typeof c?c:this._onDecodeError);this._calculateScanRegion=b.calculateScanRegion||(\"function\"===typeof d?d:this._calculateScanRegion);this._preferredCamera=b.preferredCamera||f||this._preferredCamera;this._legacyCanvasSize=\"number\"===typeof c?c:\"number\"===typeof d?d:this._legacyCanvasSize;this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond;this._onPlay=this._onPlay.bind(this);this._onLoadedMetaData=\nthis._onLoadedMetaData.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);this._updateOverlay=this._updateOverlay.bind(this);a.disablePictureInPicture=!0;a.playsInline=!0;a.muted=!0;let h=!1;a.hidden&&(a.hidden=!1,h=!0);document.body.contains(a)||(document.body.appendChild(a),h=!0);c=a.parentElement;if(b.highlightScanRegion||b.highlightCodeOutline){d=!!b.overlay;this.$overlay=b.overlay||document.createElement(\"div\");f=this.$overlay.style;f.position=\"absolute\";f.display=\"none\";\nf.pointerEvents=\"none\";this.$overlay.classList.add(\"scan-region-highlight\");if(!d&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21\"/></svg>';try{this.$overlay.firstElementChild.animate({transform:[\"scale(.98)\",\n\"scale(1.01)\"]},{duration:400,iterations:Infinity,direction:\"alternate\",easing:\"ease-in-out\"})}catch(m){}c.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML(\"beforeend\",'<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=\nthis._calculateScanRegion(a);requestAnimationFrame(()=>{let m=window.getComputedStyle(a);\"none\"===m.display&&(a.style.setProperty(\"display\",\"block\",\"important\"),h=!0);\"visible\"!==m.visibility&&(a.style.setProperty(\"visibility\",\"visible\",\"important\"),h=!0);h&&(console.warn(\"QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.\"),a.style.opacity=\"0\",a.style.width=\"0\",a.style.height=\"0\",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),\ndelete this.$overlay,delete this.$codeOutlineHighlight);this.$overlay&&this._updateOverlay()});a.addEventListener(\"play\",this._onPlay);a.addEventListener(\"loadedmetadata\",this._onLoadedMetaData);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);window.addEventListener(\"resize\",this._updateOverlay);this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(a){console.warn(\"Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.\")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(a){return!1}}static async listCameras(a=\n!1){if(!navigator.mediaDevices)return[];let b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(d=>\"videoinput\"===d.kind),c;try{a&&(await b()).every(d=>!d.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(d){}try{return(await b()).map((d,f)=>({id:d.deviceId,label:d.label||(0===f?\"Default Camera\":`Camera ${f+1}`)}))}finally{c&&(console.warn(\"Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream\"),e._stopVideoStream(c))}}async hasFlash(){let a;\ntry{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return\"torch\"in a.getVideoTracks()[0].getSettings()}catch(b){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn(\"Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream\"),e._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&\n!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw\"No flash available\";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a;}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener(\"loadedmetadata\",this._onLoadedMetaData);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",\nthis._onVisibilityChange);window.removeEventListener(\"resize\",this._updateOverlay);this._destroyed=!0;this._flashOn=!1;this.stop();e._postWorkerMessage(this._qrEnginePromise,\"close\")}async start(){if(this._destroyed)throw Error(\"The QR scanner can not be started as it had been destroyed.\");if(!this._active||this._paused)if(\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\"),this._active=!0,!document.hidden)if(this._paused=\n!1,this.$video.srcObject)await this.$video.play();else try{let {stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a;}}stop(){this.pause();this._active=!1}async pause(a=!1){this._paused=!0;if(!this._active)return!0;this.$video.pause();this.$overlay&&(this.$overlay.style.display=\n\"none\");let b=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};if(a)return b(),!0;await new Promise(c=>setTimeout(c,300));if(!this._paused)return!1;b();return!0}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,c,d,f=!1,h=!1){let m,n=!1;b&&(\"scanRegion\"in b||\"qrEngine\"in b||\"canvas\"in b||\"disallowCanvasResizing\"in b||\"alsoTryWithoutScanRegion\"in\nb||\"returnDetailedScanResult\"in b)?(m=b.scanRegion,c=b.qrEngine,d=b.canvas,f=b.disallowCanvasResizing||!1,h=b.alsoTryWithoutScanRegion||!1,n=!0):b||c||d||f||h?console.warn(\"You're using a deprecated api for scanImage which will be removed in the future.\"):console.warn(\"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\");b=!!c;try{let p,k;[c,p]=await Promise.all([c||e.createQrEngine(),e._loadImage(a)]);\n[d,k]=e._drawToCanvas(p,m,d,f);let q;if(c instanceof Worker){let g=c;b||e._postWorkerMessageSync(g,\"inversionMode\",\"both\");q=await new Promise((l,v)=>{let w,u,r,y=-1;u=t=>{t.data.id===y&&(g.removeEventListener(\"message\",u),g.removeEventListener(\"error\",r),clearTimeout(w),null!==t.data.data?l({data:t.data.data,cornerPoints:e._convertPoints(t.data.cornerPoints,m)}):v(e.NO_QR_CODE_FOUND))};r=t=>{g.removeEventListener(\"message\",u);g.removeEventListener(\"error\",r);clearTimeout(w);v(\"Scanner error: \"+(t?\nt.message||t:\"Unknown Error\"))};g.addEventListener(\"message\",u);g.addEventListener(\"error\",r);w=setTimeout(()=>r(\"timeout\"),1E4);let x=k.getImageData(0,0,d.width,d.height);y=e._postWorkerMessageSync(g,\"decode\",x,[x.data.buffer])})}else q=await Promise.race([new Promise((g,l)=>window.setTimeout(()=>l(\"Scanner error: timeout\"),1E4)),(async()=>{try{var [g]=await c.detect(d);if(!g)throw e.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:e._convertPoints(g.cornerPoints,m)}}catch(l){g=l.message||l;\nif(/not implemented|service unavailable/.test(g))return e._disableBarcodeDetector=!0,e.scanImage(a,{scanRegion:m,canvas:d,disallowCanvasResizing:f,alsoTryWithoutScanRegion:h});throw`Scanner error: ${g}`;}})()]);return n?q:q.data}catch(p){if(!m||!h)throw p;let k=await e.scanImage(a,{qrEngine:c,canvas:d,disallowCanvasResizing:f});return n?k:k.data}finally{b||e._postWorkerMessage(c,\"close\")}}setGrayscaleWeights(a,b,c,d=!0){e._postWorkerMessage(this._qrEnginePromise,\"grayscaleWeights\",{red:a,green:b,\nblue:c,useIntegerApproximation:d})}setInversionMode(a){e._postWorkerMessage(this._qrEnginePromise,\"inversionMode\",a)}static async createQrEngine(a){a&&console.warn(\"Specifying a worker path is not required and not supported anymore.\");return!e._disableBarcodeDetector&&\"BarcodeDetector\"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes(\"qr_code\")?new BarcodeDetector({formats:[\"qr_code\"]}):import(\"./qr-scanner-worker.min.js\").then(b=>b.createWorker())}_onPlay(){this._scanRegion=\nthis._calculateScanRegion(this.$video);this._updateOverlay();this.$overlay&&(this.$overlay.style.display=\"\");this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video);this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,\ndownScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,c=a.videoHeight,d=a.offsetWidth,f=a.offsetHeight,h=a.offsetLeft,m=a.offsetTop,n=window.getComputedStyle(a),p=n.objectFit,k=b/c,q=d/f;switch(p){case \"none\":var g=b;var l=c;break;case \"fill\":g=d;l=f;break;default:(\"cover\"===p?k>q:k<q)?(l=f,g=l*k):(g=d,l=g/k),\"scale-down\"===p&&(g=Math.min(g,b),l=Math.min(l,c))}var [v,w]=n.objectPosition.split(\" \").map((r,y)=>{const x=\nparseFloat(r);return r.endsWith(\"%\")?(y?f-l:d-g)*x/100:x});n=this._scanRegion.width||b;q=this._scanRegion.height||c;p=this._scanRegion.x||0;var u=this._scanRegion.y||0;k=this.$overlay.style;k.width=`${n/b*g}px`;k.height=`${q/c*l}px`;k.top=`${m+w+u/c*l}px`;c=/scaleX\\(-1\\)/.test(a.style.transform);k.left=`${h+(c?d-v-g:v)+(c?b-p-n:p)/b*g}px`;k.transform=a.style.transform}})}static _convertPoints(a,b){if(!b)return a;let c=b.x||0,d=b.y||0,f=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&\nb.downScaledHeight?b.height/b.downScaledHeight:1;for(let h of a)h.x=h.x*f+c,h.y=h.y*b+d;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||(\"requestVideoFrameCallback\"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1E3/this._maxScansPerSecond;a<b&&await new Promise(d=>setTimeout(d,b-a));this._lastScanTimestamp=Date.now();try{var c=await e.scanImage(this.$video,\n{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(d){if(!this._active)return;this._onDecodeError(d)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=e.createQrEngine());c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute(\"viewBox\",\n`${this._scanRegion.x||0} `+`${this._scanRegion.y||0} `+`${this._scanRegion.width||this.$video.videoWidth} `+`${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute(\"points\",c.cornerPoints.map(({x:d,y:f})=>`${d},${f}`).join(\" \")),this.$codeOutlineHighlight.style.display=\"\")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display=\n\"none\",100))}this._scanFrame()})}_onDecodeError(a){a!==e.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw\"Camera not found.\";let a=/^(environment|user)$/.test(this._preferredCamera)?\"facingMode\":\"deviceId\",b=[{width:{min:1024}},{width:{min:768}},{}],c=b.map(d=>Object.assign({},d,{[a]:{exact:this._preferredCamera}}));for(let d of[...c,...b])try{let f=await navigator.mediaDevices.getUserMedia({video:d,audio:!1}),h=this._getFacingMode(f)||(d.facingMode?this._preferredCamera:\n\"environment\"===this._preferredCamera?\"user\":\"environment\");return{stream:f,facingMode:h}}catch(f){}throw\"Camera not found.\";}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),a.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?\"environment\":/front|user|face/i.test(a.label)?\n\"user\":null:null}static _drawToCanvas(a,b,c,d=!1){c=c||document.createElement(\"canvas\");let f=b&&b.x?b.x:0,h=b&&b.y?b.y:0,m=b&&b.width?b.width:a.videoWidth||a.width,n=b&&b.height?b.height:a.videoHeight||a.height;d||(d=b&&b.downScaledWidth?b.downScaledWidth:m,b=b&&b.downScaledHeight?b.downScaledHeight:n,c.width!==d&&(c.width=d),c.height!==b&&(c.height=b));b=c.getContext(\"2d\",{alpha:!1});b.imageSmoothingEnabled=!1;b.drawImage(a,f,h,m,n,0,0,c.width,c.height);return[c,b]}static async _loadImage(a){if(a instanceof\nImage)return await e._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||\"OffscreenCanvas\"in window&&a instanceof OffscreenCanvas||\"ImageBitmap\"in window&&a instanceof ImageBitmap)return a;if(a instanceof File||a instanceof Blob||a instanceof URL||\"string\"===typeof a){let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await e._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof\nBlob)&&URL.revokeObjectURL(b.src)}}else throw\"Unsupported image type.\";}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((b,c)=>{let d=f=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",d);f instanceof ErrorEvent?c(\"Image load error\"):b()};a.addEventListener(\"load\",d);a.addEventListener(\"error\",d)})}static async _postWorkerMessage(a,b,c,d){return e._postWorkerMessageSync(await a,b,c,d)}static _postWorkerMessageSync(a,b,c,d){if(!(a instanceof Worker))return-1;\nlet f=e._workerMessageId++;a.postMessage({id:f,type:b,data:c},d);return f}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND=\"No QR code found\";e._disableBarcodeDetector=!1;e._workerMessageId=0;export default e\n//# sourceMappingURL=qr-scanner.min.js.map\n","\nimport { Options, Vue } from 'vue-class-component';\nimport QrScanner from 'qr-scanner';\n\n@Options({\n  props: {\n  },\n  components: { }\n})\nexport default class QrScan extends Vue {\n  qrScanner!: QrScanner;\n\n  started = false;\n\n  mounted(){\n    const options = {\n      highlightScanRegion: true,\n    };\n\n    this.qrScanner = new QrScanner(this.$refs.video as HTMLVideoElement, (result:any) => {\n      console.log('decoded qr code:', result);\n      this.qrScanner.stop();\n      this.started = false;\n      this.$emit(\"decoded\", {value: result.data});\n    }, options);\n\n    this.qrScanner.start();\n    this.started = true;\n    console.log('----QR scanner is running',this.qrScanner )\n  }\n\n  toggle(){\n    this.started = !this.started;\n    if(this.started){\n      this.qrScanner.start();\n    }else{\n      this.qrScanner.stop();\n    }\n  }\n\n  onDestroy(){\n    if(this.started){\n      this.qrScanner.stop();\n    }\n  }\n\n}\n","import { render } from \"./QrScan.vue?vue&type=template&id=6e3d29d2&scoped=true&ts=true\"\nimport script from \"./QrScan.vue?vue&type=script&lang=ts\"\nexport * from \"./QrScan.vue?vue&type=script&lang=ts\"\n\nimport \"./QrScan.vue?vue&type=style&index=0&id=6e3d29d2&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/evaleto/nodejs/evaletolab.ch/horcrux/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e3d29d2\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0e76c370\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"content\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Restore Horcrux from Vault \", -1))\nconst _hoisted_3 = { class: \"description\" }\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Your Horcrux is stored safely without any thirdparties. You only need to remember your secret (mail+password) to restore the encrypted Vault. Also use your printed page as a rescue tip! \")\nconst _hoisted_5 = { class: \"info\" }\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" This is an alpha version running on testnet Ropsten. \")\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\" Contract address : \")\nconst _hoisted_9 = [\"href\"]\nconst _hoisted_10 = { class: \"media-display\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"email\" }, \"Email used to restore your Horcrux\", -1))\nconst _hoisted_12 = [\"disabled\"]\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Vault secret 🔑\", -1))\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createElementVNode(\"b\", null, \"Psst;\"),\n  /*#__PURE__*/_createTextVNode(\" Compare your secret with your printed document\")\n], -1))\nconst _hoisted_15 = { class: \"hideemail\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Vault content : \", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_password = _resolveComponent(\"password\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createElementVNode(\"p\", _hoisted_5, [\n        _hoisted_6,\n        _hoisted_7,\n        _hoisted_8,\n        _createElementVNode(\"a\", {\n          target: \"_tab\",\n          href: 'https://ropsten.etherscan.io/address/'+_ctx.address\n        }, _toDisplayString(_ctx.address), 9, _hoisted_9)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_10, [\n      _createElementVNode(\"fieldset\", null, [\n        _hoisted_11,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"email\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.username) = $event)),\n          placeholder: \"email@g.com\",\n          id: \"email\",\n          autocomplete: \"off\",\n          autocorrect: \"off\",\n          autocapitalize: \"off\",\n          spellcheck: \"false\"\n        }, null, 512), [\n          [_vModelText, _ctx.username]\n        ]),\n        _createVNode(_component_password, {\n          label: \"Secret used to restore your Horcrux\",\n          onValue: _cache[1] || (_cache[1] = (value)=> _ctx.password=value),\n          onScore: _ctx.onScore\n        }, null, 8, [\"onScore\"]),\n        _createElementVNode(\"button\", {\n          onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.onRestore && _ctx.onRestore(...args))),\n          class: \"button-primary\",\n          disabled: (_ctx.score < 4)||_ctx.receipt\n        }, _toDisplayString(_ctx.computing?'Computing...':'Redeem Vault'), 9, _hoisted_12)\n      ])\n    ]),\n    _hoisted_13,\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"secret\", {hide:_ctx.seed==''}])\n    }, [\n      _hoisted_14,\n      _createElementVNode(\"span\", _hoisted_15, _toDisplayString(_ctx.hideUsermail), 1),\n      _hoisted_16,\n      _createTextVNode(\" \" + _toDisplayString(_ctx.seed), 1)\n    ], 2),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"published\", {hide:(_ctx.share == '')}])\n    }, [\n      _hoisted_17,\n      _createTextVNode(\" \" + _toDisplayString(_ctx.share), 1)\n    ], 2)\n  ]))\n}","\nimport { requiresWork } from '@/lib/POW';\nimport { stringToHEX256 } from '@/lib/utils';\nimport { BigNumber, ethers } from 'ethers';\nimport { Options, Vue } from 'vue-class-component';\n\nimport Password from '@/components/Password.vue';\nimport { xor_decrypt } from '@/lib/XOR';\n\n@Options({\n  components: { Password }\n})\nexport default class RestoreVault extends Vue {\n\n  // props\n  currentDate: Date = new Date();\n\n  password = \"\";\n  username = \"\";\n  score = 0;\n  difficulty = BigNumber.from('0x1ffff');\n\n  // Web3\n  address =\"0x58f25463779E44A395804C783ee01202fF442b85\";\n  abiRedeem = [\n    \"function redeem(uint256 seed, uint256 nonce) view returns(uint)\"\n  ];\n\n  signer:any;\n  account = \"\";\n  balance = \"0\";\n  receipt:any = null;\n  share = \"\";\n\n\n  //\n  // POW\n  nonce = \"\";\n  seed = \"\";\n  computing = false;\n\n  get date() {\n    return this.currentDate.toLocaleDateString();\n  }\n\n  get hideUsermail() {\n    let hidden = \"\";\n    let indexOfMail = this.username.indexOf(\"@\");\n    if(indexOfMail == -1 ) {\n      indexOfMail = (this.username.length / 2)|0;\n    }\n    for (let i = 0; i < this.username.length; i++) {\n      if(i == 0 ||\n         i == indexOfMail - 1 ||\n         i == indexOfMail ||\n         i == indexOfMail + 1 ||\n         i == this.username.length - 1){\n        hidden+= this.username[i];\n      } else{\n        hidden += \"*\";\n      }\n    }\n    return hidden;\n  }\n\n  get location (){\n    return document.location.href;\n  }\n\n  async initMetamask() {\n    const $window = window as any;\n    if(!$window.ethereum){\n      throw new Error('Please install MetaMask');\n    }\n    //const web3 = new Web3($window.ethereum);\n    // const netId = await web3.eth.net.getId();\n    // const accounts = await web3.eth.getAccounts();    \n    // const metamask = await $window.ethereum.request({ method: 'eth_requestAccounts' });\n    // const account = accounts[0] || metamask[0];\n    //\n    // initialize metamask\n    // const [account] = await $window.ethereum.request({ method: 'eth_requestAccounts' });\n    // if(!account){\n    //   throw new Error('Please login with MetaMask');\n    // }\n    const provider = new ethers.providers.Web3Provider($window.ethereum);\n    const [account] = await provider.send(\"eth_requestAccounts\", []);\n    if(!account){\n      throw new Error('Please login with MetaMask');\n    }\n\n    this.signer = provider.getSigner();\n\n\n    console.log('--- DBG signer0',await this.signer.getAddress());\n    console.log('--- DBG signer1',account);\n\n\n    // To connect to the user's wallet, we have to run this method.\n    // It returns a promise that will resolve to the user's address.\n    this.account = account;\n\n    //\n    //load balance\n    // this.balance = await web3.eth.getBalance(account);\n    this.balance = (await this.signer.getBalance()).toString();\n    console.log('--- DBG balance',this.balance);\n  }\n\n  async onRestore($event:Event) {\n    $event.preventDefault();\n\n    try{\n      this.computing = true;\n      await this.initMetamask();\n\n      //\n      // proof of Work\n      this.seed = stringToHEX256(this.username+\"\"+this.password);\n      this.nonce = requiresWork(this.seed,this.difficulty)[1];\n      console.log('--- DEBUG',this.seed,this.nonce);\n\n      //\n      // init contract state\n      const privateKey =  ethers.utils.keccak256(ethers.utils.defaultAbiCoder.encode(['uint256','uint256'],[this.seed,this.nonce]));\n\n      const horcrux = new ethers.Contract(this.address,this.abiRedeem,this.signer);\n\n      const result = (await horcrux.redeem(this.seed,this.nonce)).toHexString();\n\n      const mixed = ethers.utils.arrayify(result);\n\n      this.computing = false;\n\n      if (mixed[0] == 0){\n        this.share = \"Not available\";\n      this.$emit(\"value\", {value: this.share});\n        return;\n      }\n      //\n      // simple demixer\n      const bytes = xor_decrypt(\n        mixed,\n        ethers.utils.arrayify(privateKey.substring(0,16))\n      );\n      this.share = ethers.utils.hexlify(bytes).replace('0x','8');\n\n\n      this.$emit(\"value\", {value: this.share});\n\n    }catch(err) {\n      console.log('--- DEBUG restore',err);\n    }\n    \n  }\n\n  onScore(value:number){\n    this.score = value;\n  }\n\n}\n","import { render } from \"./RestoreVault.vue?vue&type=template&id=0e76c370&scoped=true&ts=true\"\nimport script from \"./RestoreVault.vue?vue&type=script&lang=ts\"\nexport * from \"./RestoreVault.vue?vue&type=script&lang=ts\"\n\nimport \"./RestoreVault.vue?vue&type=style&index=0&id=0e76c370&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/evaleto/nodejs/evaletolab.ch/horcrux/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0e76c370\"]])\n\nexport default __exports__","\nimport { Options, Vue } from 'vue-class-component';\nimport { $wallet } from '../services';\nimport * as secret from 'secrets.js-34r7h';\nimport { ethers } from 'ethers';\nimport Drawer from '@/components/Drawer.vue';\nimport QrScan from '@/components/QrScan.vue';\nimport RestoreVault from '@/components/RestoreVault.vue';\n\n@Options({\n  components: {\n    Drawer, QrScan, RestoreVault\n  },\n})\nexport default class Recover extends Vue {\n  horcruxs:any = [null,null];\n  currentIndex = -1;\n  error = \"\";\n\n  drawer: any = {\n    vault: false,\n    print: false\n  }\n\n  get entropy() {    \n    try{\n      if(!this.horcruxs.length || !this.horcruxs[0] || !this.horcruxs[1]) {\n        return ''\n      }\n      this.error = \"\";\n\n\n      return secret.combine(this.horcruxs as secret.Shares);\n    }catch(err: any){\n      this.error = err.message;\n    }\n    return \"\";\n  }\n\n  get mnemonic() {\n    if(!this.entropy.length){\n      return \"\";\n    }\n    console.log('----DB entropy',this.entropy);\n    const entropy = ethers.utils.arrayify('0x'+this.entropy);\n    return $wallet.createMnemonic(entropy, 16);\n  }\n\n  onOpenDrawer(index: number,destination:string){\n    this.currentIndex = index;\n    this.drawer[destination]=true;\n  }\n\n  onCloseDrawer(destination:string) {\n    this.drawer[destination] = false;\n  }  \n\n  onHorcrux($event:{value:string}) {\n    this.horcruxs[this.currentIndex] = $event.value;\n  }\n\n\n  onQrScanDecoded(result:{value:string}){\n    // console.log(\"got qrscan\", result.value);\n    this.horcruxs[this.currentIndex] = result.value;\n    this.drawer.print = false;\n  }\n\n}\n","import { render } from \"./Recover.vue?vue&type=template&id=b55a9aaa&scoped=true&ts=true\"\nimport script from \"./Recover.vue?vue&type=script&lang=ts\"\nexport * from \"./Recover.vue?vue&type=script&lang=ts\"\n\nimport \"./Recover.vue?vue&type=style&index=0&id=b55a9aaa&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/evaleto/nodejs/evaletolab.ch/horcrux/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b55a9aaa\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RestoreVault.vue?vue&type=style&index=0&id=0e76c370&scoped=true&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Recover.vue?vue&type=style&index=0&id=b55a9aaa&scoped=true&lang=scss\""],"sourceRoot":""}